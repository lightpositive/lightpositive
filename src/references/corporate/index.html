---
layout: posts_corporate
---

<section class="posts__content">
  {% set postslist = collections.corporate %} {% for corporate in postslist |
  reverse %} {% if corporate.url != page.url %}
  <figure class="posts__card">
    <a href="{{ corporate.url | url }}" class="posts__link">
      <!-- src="{{corporate.url}}{{corporate.data.coverImage}}" -->
      <img
        src="{{corporate.data.coverImage}}"
        class="posts__image-cover"
        alt="{{ corporate.data.title }} cover image"
      />
      <figcaption class="posts__image-caption">
        {{ corporate.data.title }}
      </figcaption>
    </a>
  </figure>
  {% endif %} {% endfor %}
</section>
<script>
  let lowRes = "w_256";
  const coverImage = document
    .getElementsByClassName("posts__image-cover")
    .item(0);
  let preUrl = "https://res.cloudinary.com/lightpositive/image/upload/";
  let src = coverImage.getAttribute("src");
  // let matched = src.match(/upload\/(?:v\d+\/)?([^\.]+)/);
  let matched = src.match(/upload\/(?:v\d+\/)([^]+)\.(?!.*\.)/);
  let srcNew = preUrl.concat(lowRes, "/", matched[1]);
  coverImage.setAttribute("src", srcNew);
  console.log(coverImage);
</script>
